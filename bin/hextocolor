#!/bin/python

import argparse,sys
from re import X

from pyrsistent import optional

loremipsum = '''Lorem ipsum dolor sit amet, consectetur adipiscing elit.'''

def bold(text):
    return '\033[1m' + text + '\033[0m'

def hex2color(hex, text=loremipsum):
    # print loremipsum with color
    hex = hex.lstrip('#')
    r, g, b = tuple(int(hex[i:i+2], 16) for i in (0, 2, 4))
    return ''.join(('\033[38;2;%d;%d;%dm' % (r, g, b), text, '\033[0m'))

def hex2color_bold(hex, text=loremipsum):
    # print loremipsum with color
    hex = hex.lstrip('#')
    r, g, b = tuple(int(hex[i:i+2], 16) for i in (0, 2, 4))
    return ''.join(('\033[38;2;%d;%d;%dm' % (r, g, b), bold(text), '\033[0m'))

def color2block(color, length=10):
    return hex2color(color, (('â–‡' * 20) + '\n') * length)

def input_parser():
    parser = argparse.ArgumentParser(description='program to convert hex color to color')
    
    parser.add_argument('-b', '--bold', action="store_true")
    parser.add_argument('-l', '--loremipsum', action="store_true")
    
    parser.add_argument('color')
    parser.add_argument('-t', '--text')

    return parser

def main():
    parser = input_parser()
    args = parser.parse_args()
    # if no args, print help
    if len(sys.argv) == 1:
        parser.print_help()
        sys.exit(1)
    if args.bold:
        print(hex2color_bold(args.color, args.text))
    elif args.loremipsum:
        print(hex2color(args.color, loremipsum))
    else:
        print(hex2color(args.color, args.text)) 

if __name__ == '__main__':
    main()